{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport axios from \"axios\";\nimport { useRouter } from \"next/router\";\nimport { useEffect, useState } from \"react\";\n\nconst cartHookCustom = () => {\n  const router = useRouter();\n  const {\n    0: cartList,\n    1: setCartList\n  } = useState([]);\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(false);\n  useEffect(() => {\n    getCustomStyle();\n  }, []);\n  useEffect(async () => {\n    try {\n      const response = await axios.get(`/api/cart/cart`);\n\n      if (response.status === 200) {\n        setCartList(response.data.data); // Make sure you are setting the correct part of the response\n\n        setIsLoading(false);\n        console.log(\"Response data:\", response.data);\n      } else {\n        console.log(\"Error in fetching data, status code:\", response.status);\n      }\n    } catch (e) {\n      console.error('Error details:', e.response ? e.response.data : e.message);\n    }\n  }, []);\n  useEffect(async () => {\n    console.log(\"fabricSelect\");\n    setIsLoadingFabric(true);\n    getCustomStyle();\n  }, [fabricSelect]);\n  useEffect(() => {\n    setIsLoading(true);\n    getCustomStyle();\n  }, [isLoading]);\n\n  const getCustomStyle = async () => {\n    try {\n      var response = await axios.get(`/api/cart/cart`);\n      const {\n        status,\n        data\n      } = response.data;\n\n      const newDataStyle = _objectSpread({}, dataStyle);\n\n      setDataStyle(newDataStyle);\n    } catch (e) {\n      console.log(e);\n    } finally {\n      setTimeout(() => {\n        setIsLoading(false);\n      }, 700);\n      setTimeout(() => {\n        setIsLoadingFabric(false);\n      }, 1000);\n    }\n  };\n\n  return {\n    cartList,\n    isLoading,\n    setCartList,\n    setIsLoading\n  };\n};\n\nexport default cartHookCustom;","map":{"version":3,"sources":["D:/luarKampus/Magang/Bestada/laxmi.front.web.user/components/partials/cart/cartHookCustom.js"],"names":["axios","useRouter","useEffect","useState","cartHookCustom","router","cartList","setCartList","isLoading","setIsLoading","getCustomStyle","response","get","status","data","console","log","e","error","message","setIsLoadingFabric","fabricSelect","newDataStyle","dataStyle","setDataStyle","setTimeout"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;AAEA,MAAMC,cAAc,GAAG,MAAM;AACzB,QAAMC,MAAM,GAAGJ,SAAS,EAAxB;AACA,QAAM;AAAA,OAACK,QAAD;AAAA,OAAWC;AAAX,MAA0BJ,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM;AAAA,OAACK,SAAD;AAAA,OAAYC;AAAZ,MAA4BN,QAAQ,CAAC,KAAD,CAA1C;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZQ,IAAAA,cAAc;AACjB,GAFQ,EAEN,EAFM,CAAT;AAIAR,EAAAA,SAAS,CAAC,YAAY;AAClB,QAAI;AACA,YAAMS,QAAQ,GAAG,MAAMX,KAAK,CAACY,GAAN,CAAW,gBAAX,CAAvB;;AACA,UAAID,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;AACzBN,QAAAA,WAAW,CAACI,QAAQ,CAACG,IAAT,CAAcA,IAAf,CAAX,CADyB,CACQ;;AACjCL,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACAM,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BL,QAAQ,CAACG,IAAvC;AACH,OAJD,MAIO;AACHC,QAAAA,OAAO,CAACC,GAAR,CAAY,sCAAZ,EAAoDL,QAAQ,CAACE,MAA7D;AACH;AACJ,KATD,CASE,OAAOI,CAAP,EAAU;AACRF,MAAAA,OAAO,CAACG,KAAR,CAAc,gBAAd,EAAgCD,CAAC,CAACN,QAAF,GAAaM,CAAC,CAACN,QAAF,CAAWG,IAAxB,GAA+BG,CAAC,CAACE,OAAjE;AACH;AACJ,GAbQ,EAaN,EAbM,CAAT;AAeAjB,EAAAA,SAAS,CAAC,YAAY;AAClBa,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACAI,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACAV,IAAAA,cAAc;AACjB,GAJQ,EAIN,CAACW,YAAD,CAJM,CAAT;AAMAnB,EAAAA,SAAS,CAAC,MAAM;AACZO,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAC,IAAAA,cAAc;AACjB,GAHQ,EAGN,CAACF,SAAD,CAHM,CAAT;;AAKA,QAAME,cAAc,GAAG,YAAY;AAC/B,QAAI;AACA,UAAIC,QAAQ,GAAG,MAAMX,KAAK,CAACY,GAAN,CAAW,gBAAX,CAArB;AACA,YAAM;AAAEC,QAAAA,MAAF;AAAUC,QAAAA;AAAV,UAAmBH,QAAQ,CAACG,IAAlC;;AACA,YAAMQ,YAAY,qBAAQC,SAAR,CAAlB;;AACAC,MAAAA,YAAY,CAACF,YAAD,CAAZ;AACH,KALD,CAKE,OAAOL,CAAP,EAAU;AACRF,MAAAA,OAAO,CAACC,GAAR,CAAYC,CAAZ;AACH,KAPD,SAOU;AACNQ,MAAAA,UAAU,CAAC,MAAM;AACbhB,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACH,OAFS,EAEP,GAFO,CAAV;AAGAgB,MAAAA,UAAU,CAAC,MAAM;AACbL,QAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACH,OAFS,EAEP,IAFO,CAAV;AAGH;AACJ,GAhBD;;AAkBA,SAAO;AACHd,IAAAA,QADG;AAEHE,IAAAA,SAFG;AAGHD,IAAAA,WAHG;AAIHE,IAAAA;AAJG,GAAP;AAMH,CA3DD;;AA4DA,eAAeL,cAAf","sourcesContent":["import axios from \"axios\";\r\nimport { useRouter } from \"next/router\";\r\nimport { useEffect, useState } from \"react\"\r\n\r\nconst cartHookCustom = () => {\r\n    const router = useRouter()\r\n    const [cartList, setCartList] = useState([])\r\n    const [isLoading, setIsLoading] = useState(false)\r\n\r\n    useEffect(() => {\r\n        getCustomStyle()\r\n    }, [])\r\n\r\n    useEffect(async () => {\r\n        try {\r\n            const response = await axios.get(`/api/cart/cart`);\r\n            if (response.status === 200) {\r\n                setCartList(response.data.data); // Make sure you are setting the correct part of the response\r\n                setIsLoading(false);\r\n                console.log(\"Response data:\", response.data);\r\n            } else {\r\n                console.log(\"Error in fetching data, status code:\", response.status);\r\n            }\r\n        } catch (e) {\r\n            console.error('Error details:', e.response ? e.response.data : e.message);\r\n        }\r\n    }, [])\r\n\r\n    useEffect(async () => {\r\n        console.log(\"fabricSelect\");\r\n        setIsLoadingFabric(true)\r\n        getCustomStyle()\r\n    }, [fabricSelect])\r\n\r\n    useEffect(() => {\r\n        setIsLoading(true)\r\n        getCustomStyle()\r\n    }, [isLoading])\r\n\r\n    const getCustomStyle = async () => {\r\n        try {\r\n            var response = await axios.get(`/api/cart/cart`);\r\n            const { status, data } = response.data\r\n            const newDataStyle = { ...dataStyle }\r\n            setDataStyle(newDataStyle)\r\n        } catch (e) {\r\n            console.log(e);\r\n        } finally {\r\n            setTimeout(() => {\r\n                setIsLoading(false)\r\n            }, 700);\r\n            setTimeout(() => {\r\n                setIsLoadingFabric(false)\r\n            }, 1000);\r\n        }\r\n    }\r\n\r\n    return {\r\n        cartList,\r\n        isLoading,\r\n        setCartList,\r\n        setIsLoading\r\n    }\r\n}\r\nexport default cartHookCustom"]},"metadata":{},"sourceType":"module"}
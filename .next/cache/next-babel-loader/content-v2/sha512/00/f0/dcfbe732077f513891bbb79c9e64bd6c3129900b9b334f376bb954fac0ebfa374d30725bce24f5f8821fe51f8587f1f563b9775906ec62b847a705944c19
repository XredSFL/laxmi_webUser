{"ast":null,"code":"import axios from \"../../../helpers/axiosConfig\";\nimport jwtDecode from 'jwt-decode';\nexport default async function handler(req, res) {\n  console.log(req.headers);\n\n  if (req.method === 'POST') {\n    const {\n      email,\n      password\n    } = req.body;\n    axios.post(\"/auth/login\", {\n      email: email,\n      password: password\n    }).then(response => {\n      const {\n        status,\n        message\n      } = response.data;\n      console.log(\"responses\");\n      console.log(response);\n\n      if (status) {\n        const {\n          _id,\n          status,\n          role,\n          name,\n          token\n        } = response.data.data;\n        const jsonDecode = jwtDecode(token);\n        console.log(jsonDecode);\n        res.status(200).json({\n          \"status\": true,\n          \"message\": \"Login success\",\n          \"data\": {\n            \"name\": name,\n            \"email\": email,\n            \"phone\": \"081259539154\",\n            \"height\": 12,\n            \"weight\": 12,\n            \"age\": 12,\n            \"token\": token,\n            \"role\": role\n          }\n        });\n      } else {\n        res.status(200).json({\n          \"status\": false,\n          \"message\": message\n        });\n      }\n    }).catch(e => {\n      const {\n        message\n      } = e.response.data;\n      res.status(200).json({\n        \"status\": false,\n        \"message\": message\n      });\n    });\n  }\n}","map":null,"metadata":{},"sourceType":"module"}
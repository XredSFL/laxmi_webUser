{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _defineProperty from \"D:/luarKampus/Magang/Bestada/laxmi.front.web.user/node_modules/.pnpm/@babel+runtime@7.12.5/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router'; // REDUX\n\nimport { connect } from 'react-redux';\nimport { fetcAction as _fetcAction } from '../../../stores'; // modules\n\nimport SubCategory from './modules/subCategory'; // elements\n\nimport Pagination from '../../elements/pagination'; // components\n\nimport Product from '../../elements/product/productDefault';\n\nvar ProductList = function ProductList(_ref) {\n  var t = _ref.t,\n      fetcAction = _ref.fetcAction,\n      fetchResult = _ref.fetchResult;\n  var router = useRouter();\n  var category = router.query.category;\n\n  var _useState = useState({\n    page: 1,\n    per_page: 9,\n    sort_by: 'hightolower',\n    sub_category: '',\n    category: category,\n    style: '',\n    material: '',\n    color: '',\n    pattern: '',\n    season: '',\n    collections: ''\n  }),\n      params = _useState[0],\n      setParams = _useState[1];\n\n  useEffect(function () {\n    var paramsValue = _objectSpread(_objectSpread({}, params), {}, {\n      sub_category: params.sub_category._id,\n      style: params.style._id,\n      material: params.material._id,\n      color: params.color._id,\n      pattern: params.pattern._id,\n      season: params.season._id,\n      collections: params.collections._id\n    });\n\n    fetcAction('/products', paramsValue, {\n      body: JSON.stringify({\n        type: category\n      })\n    });\n  }, [params]);\n  useEffect(function () {\n    setParams({\n      page: 1,\n      per_page: 9,\n      sort_by: 'hightolower',\n      sub_category: '',\n      category: category,\n      style: '',\n      material: '',\n      color: '',\n      pattern: '',\n      season: '',\n      collections: ''\n    });\n  }, [category]); // handle\n\n  var handlePaginate = function handlePaginate(e) {\n    setParams(_objectSpread(_objectSpread({}, params), {}, {\n      page: e.selected + 1\n    }));\n  };\n\n  var handleFilter = function handleFilter(e) {\n    setParams(_objectSpread(_objectSpread({}, params), {}, {\n      page: 1,\n      sort_by: e.target.value\n    }));\n  };\n\n  var handleSubCategory = function handleSubCategory(e, name) {\n    setParams(_objectSpread(_objectSpread({}, params), {}, _defineProperty({\n      page: 1\n    }, name, e)));\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"container-fluid \",\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"w-100 d-flex justify-content-end align-items-center\",\n      children: [/*#__PURE__*/_jsxs(\"p\", {\n        className: \"pr-5 mb-0 sort-by\",\n        children: [t('Sort by'), \" : \"]\n      }), /*#__PURE__*/_jsxs(\"select\", {\n        value: params.filter,\n        onChange: handleFilter,\n        className: \"form-select select-filter\",\n        \"aria-label\": \"sort\",\n        children: [/*#__PURE__*/_jsx(\"option\", {\n          value: \"hightolower\",\n          children: t('Highest Price')\n        }), /*#__PURE__*/_jsx(\"option\", {\n          value: \"lowertohight\",\n          children: t('Lowest Price')\n        }), /*#__PURE__*/_jsx(\"option\", {\n          value: \"latest\",\n          children: t('Latest')\n        })]\n      })]\n    }), /*#__PURE__*/_jsx(\"hr\", {\n      className: \"w-100 hr-filter\"\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"col-12 col-md-3 col-xxl-2 mt-5\",\n        children: /*#__PURE__*/_jsx(SubCategory, {\n          t: t,\n          handleSubCategory: handleSubCategory,\n          params: params\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"col-12 col-md-9 col-xxl-10 product-list-container\",\n        children: fetchResult.data ? fetchResult.data.data.length ? /*#__PURE__*/_jsxs(_Fragment, {\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"row\",\n            children: fetchResult.data.data.map(function (data, index) {\n              return /*#__PURE__*/_jsx(Product, {\n                t: t,\n                data: data\n              }, index);\n            })\n          }), fetchResult.data.total_page > 1 ? /*#__PURE__*/_jsx(Pagination, {\n            currentPage: params.page - 1,\n            pageCount: fetchResult.data.total_page,\n            handlePaginate: handlePaginate\n          }) : null]\n        }) : /*#__PURE__*/_jsx(\"p\", {\n          className: \"text-center\",\n          children: t('common:There are no data yet')\n        }) : fetchResult.error ? /*#__PURE__*/_jsx(\"p\", {\n          className: \"text-center\",\n          children: fetchResult.error\n        }) : /*#__PURE__*/_jsx(\"div\", {\n          className: \"loader\"\n        })\n      })]\n    })]\n  });\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    fetchResult: state.fetchList\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    fetcAction: function fetcAction(url, params) {\n      return dispatch(_fetcAction(url, params));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductList);","map":null,"metadata":{},"sourceType":"module"}
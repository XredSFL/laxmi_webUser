{"ast":null,"code":"import axios from 'axios';\nimport { LOGIN_REQUEST, LOGIN_SUCCESS, LOGIN_FAILURE, ENTER_PAGE, LOGOUT } from './types'; // axios\n// import axios from '../../helpers/axiosConfig';\n\nexport var loginAction = function loginAction(form, router) {\n  debugger;\n  return function (dispatch) {\n    dispatch(loginActionRequest());\n    axios.post('http://34.101.70.83:3421/api/web_user/v1/api/auth/signin', form).then(function (response) {\n      console.log(response);\n      var _response$data = response.data,\n          status = _response$data.status,\n          message = _response$data.message;\n\n      if (status) {\n        dispatch(loginSuccess(response.data.data));\n        router.push('/');\n      } else {\n        dispatch(loginFailure(message));\n      }\n    })[\"catch\"](function (error) {\n      dispatch(loginFailure(error.message));\n    });\n  };\n};\nexport var loginActionRequest = function loginActionRequest() {\n  return {\n    type: LOGIN_REQUEST\n  };\n};\nexport var loginSuccess = function loginSuccess(dataUser) {\n  return {\n    type: LOGIN_SUCCESS,\n    payload: dataUser\n  };\n};\nexport var loginFailure = function loginFailure(error) {\n  return {\n    type: LOGIN_FAILURE,\n    payload: error\n  };\n};\nexport var logout = function logout() {\n  return {\n    type: LOGOUT\n  };\n}; // ENTER LOGIN PAGE\n\nexport var enterPage = function enterPage() {\n  return {\n    type: ENTER_PAGE\n  };\n};\nexport var registerAction = function registerAction(form) {\n  return axios.post(\"/api/auth/signup\", form).then(function (response) {\n    return response.data;\n  })[\"catch\"](function (error) {\n    return {\n      status: false,\n      message: error.message\n    };\n  });\n};\nexport var forgotAction1 = function forgotAction1(form) {\n  return axios.post(\"/api/auth/forgot_p1\", form).then(function (response) {\n    return response.data;\n  })[\"catch\"](function (error) {\n    return {\n      status: false,\n      message: error.message\n    };\n  });\n};\nexport var forgotAction2 = function forgotAction2(form) {\n  return axios.post(\"/api/auth/forgot_p2\", form).then(function (response) {\n    return response.data;\n  })[\"catch\"](function (error) {\n    return {\n      status: false,\n      message: error.message\n    };\n  });\n};\nexport var forgotAction3 = function forgotAction3(form) {\n  return axios.post(\"/api/auth/forgot_p3\", form).then(function (response) {\n    return response.data;\n  })[\"catch\"](function (error) {\n    return {\n      status: false,\n      message: error.message\n    };\n  });\n};","map":{"version":3,"sources":["D:/luarKampus/Magang/Bestada/laxmi.front.web.user/stores/auth/actions.js"],"names":["axios","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","ENTER_PAGE","LOGOUT","loginAction","form","router","dispatch","loginActionRequest","post","then","response","console","log","data","status","message","loginSuccess","push","loginFailure","error","type","dataUser","payload","logout","enterPage","registerAction","forgotAction1","forgotAction2","forgotAction3"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport {\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAILURE,\r\n  ENTER_PAGE,\r\n  LOGOUT\r\n} from './types';\r\n\r\n// axios\r\n// import axios from '../../helpers/axiosConfig';\r\n\r\n\r\nexport const loginAction = (form, router) => {\r\n  debugger\r\n  return (dispatch) => {\r\n    dispatch(loginActionRequest())\r\n    axios\r\n      .post('http://34.101.70.83:3421/api/web_user/v1/api/auth/signin', form)\r\n      .then(response => {\r\n        console.log(response);\r\n        const { status, message } = response.data;\r\n        if (status) {\r\n          dispatch(loginSuccess(response.data.data))\r\n          router.push('/')\r\n        } else {\r\n          dispatch(loginFailure(message))\r\n        }\r\n      })\r\n      .catch(error => {\r\n        dispatch(loginFailure(error.message))\r\n      })\r\n  }\r\n}\r\n\r\nexport const loginActionRequest = () => {\r\n  return {\r\n    type: LOGIN_REQUEST\r\n  }\r\n}\r\n\r\nexport const loginSuccess = dataUser => {\r\n  return {\r\n    type: LOGIN_SUCCESS,\r\n    payload: dataUser\r\n  }\r\n}\r\nexport const loginFailure = error => {\r\n  return {\r\n    type: LOGIN_FAILURE,\r\n    payload: error\r\n  }\r\n}\r\nexport const logout = () => {\r\n  return {\r\n    type: LOGOUT\r\n  }\r\n}\r\n// ENTER LOGIN PAGE\r\nexport const enterPage = () => {\r\n  return {\r\n    type: ENTER_PAGE\r\n  }\r\n}\r\n\r\nexport const registerAction = (form) => {\r\n  return axios.post(`/api/auth/signup`, form)\r\n    .then(response => {\r\n      return response.data\r\n    })\r\n    .catch(error => {\r\n      return {\r\n        status: false,\r\n        message: error.message\r\n      }\r\n    })\r\n}\r\n\r\nexport const forgotAction1 = form => {\r\n  return axios.post(`/api/auth/forgot_p1`, form)\r\n    .then(response => {\r\n      return response.data\r\n    })\r\n    .catch(error => {\r\n      return {\r\n        status: false,\r\n        message: error.message\r\n      }\r\n    })\r\n}\r\n\r\nexport const forgotAction2 = form => {\r\n  return axios.post(`/api/auth/forgot_p2`, form)\r\n    .then(response => {\r\n      return response.data\r\n    })\r\n    .catch(error => {\r\n      return {\r\n        status: false,\r\n        message: error.message\r\n      }\r\n    })\r\n}\r\n\r\nexport const forgotAction3 = form => {\r\n  return axios.post(`/api/auth/forgot_p3`, form)\r\n    .then(response => {\r\n      return response.data\r\n    })\r\n    .catch(error => {\r\n      return {\r\n        status: false,\r\n        message: error.message\r\n      }\r\n    })\r\n}"]},"metadata":{},"sourceType":"module"}
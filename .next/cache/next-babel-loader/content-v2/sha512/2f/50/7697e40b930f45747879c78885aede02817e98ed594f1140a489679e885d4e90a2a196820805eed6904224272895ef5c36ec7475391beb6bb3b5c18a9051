{"ast":null,"code":"import axios from 'axios';\nimport { FETCH_REQUEST, FETCH_SUCCESS, FETCH_FAILURE } from './types'; // import axios from '../../helpers/axiosConfig'\n\nexport const fetcAction = (url, params) => {\n  let urlParamsFilter = '';\n  Object.keys(params).map(function (key, index) {\n    if (params[key]) {\n      urlParamsFilter += `&${[key]}=${params[key]}`;\n    }\n  });\n  console.log(`${url}?${urlParamsFilter}`);\n  console.log(`${params.category}`);\n  return dispatch => {\n    dispatch(fetchActionRequest());\n    axios.get(`/api${url}?${urlParamsFilter}`).then(response => {\n      const {\n        status,\n        message,\n        data\n      } = response.data;\n\n      if (status) {\n        dispatch(fetchActionSuccess(response.data));\n      } else {\n        dispatch(fetchActionFailure(message));\n      }\n    }).catch(error => {\n      dispatch(fetchActionFailure(error.message));\n    });\n  };\n};\nexport const fetchActionRequest = () => {\n  return {\n    type: FETCH_REQUEST\n  };\n};\nexport const fetchActionSuccess = data => {\n  return {\n    type: FETCH_SUCCESS,\n    payload: data\n  };\n};\nexport const fetchActionFailure = error => {\n  return {\n    type: FETCH_FAILURE,\n    payload: error\n  };\n};","map":{"version":3,"sources":["D:/luarKampus/Magang/Bestada/laxmi.front.web.user/stores/fetchList/actions.js"],"names":["axios","FETCH_REQUEST","FETCH_SUCCESS","FETCH_FAILURE","fetcAction","url","params","urlParamsFilter","Object","keys","map","key","index","console","log","category","dispatch","fetchActionRequest","get","then","response","status","message","data","fetchActionSuccess","fetchActionFailure","catch","error","type","payload"],"mappings":"AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,aADF,EAEEC,aAFF,EAGEC,aAHF,QAIO,SAJP,C,CAMA;;AAEA,OAAO,MAAMC,UAAU,GAAG,CAACC,GAAD,EAAMC,MAAN,KAAiB;AACzC,MAAIC,eAAe,GAAG,EAAtB;AAEAC,EAAAA,MAAM,CAACC,IAAP,CAAYH,MAAZ,EAAoBI,GAApB,CAAwB,UAAUC,GAAV,EAAeC,KAAf,EAAsB;AAC5C,QAAIN,MAAM,CAACK,GAAD,CAAV,EAAiB;AACfJ,MAAAA,eAAe,IAAK,IAAG,CAACI,GAAD,CAAM,IAAGL,MAAM,CAACK,GAAD,CAAM,EAA5C;AACD;AACF,GAJD;AAKAE,EAAAA,OAAO,CAACC,GAAR,CAAa,GAAET,GAAI,IAAGE,eAAgB,EAAtC;AACAM,EAAAA,OAAO,CAACC,GAAR,CAAa,GAAER,MAAM,CAACS,QAAS,EAA/B;AACA,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACC,kBAAkB,EAAnB,CAAR;AACAjB,IAAAA,KAAK,CACFkB,GADH,CACQ,OAAMb,GAAI,IAAGE,eAAgB,EADrC,EAEGY,IAFH,CAEQC,QAAQ,IAAI;AAChB,YAAM;AAAEC,QAAAA,MAAF;AAAUC,QAAAA,OAAV;AAAmBC,QAAAA;AAAnB,UAA4BH,QAAQ,CAACG,IAA3C;;AACA,UAAIF,MAAJ,EAAY;AACVL,QAAAA,QAAQ,CAACQ,kBAAkB,CAACJ,QAAQ,CAACG,IAAV,CAAnB,CAAR;AACD,OAFD,MAEO;AACLP,QAAAA,QAAQ,CAACS,kBAAkB,CAACH,OAAD,CAAnB,CAAR;AACD;AACF,KATH,EAUGI,KAVH,CAUSC,KAAK,IAAI;AACdX,MAAAA,QAAQ,CAACS,kBAAkB,CAACE,KAAK,CAACL,OAAP,CAAnB,CAAR;AACD,KAZH;AAaD,GAfD;AAgBD,CA1BM;AA4BP,OAAO,MAAML,kBAAkB,GAAG,MAAM;AACtC,SAAO;AACLW,IAAAA,IAAI,EAAE3B;AADD,GAAP;AAGD,CAJM;AAKP,OAAO,MAAMuB,kBAAkB,GAAGD,IAAI,IAAI;AACxC,SAAO;AACLK,IAAAA,IAAI,EAAE1B,aADD;AAEL2B,IAAAA,OAAO,EAAEN;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAME,kBAAkB,GAAGE,KAAK,IAAI;AACzC,SAAO;AACLC,IAAAA,IAAI,EAAEzB,aADD;AAEL0B,IAAAA,OAAO,EAAEF;AAFJ,GAAP;AAID,CALM","sourcesContent":["\r\nimport axios from 'axios';\r\nimport {\r\n  FETCH_REQUEST,\r\n  FETCH_SUCCESS,\r\n  FETCH_FAILURE,\r\n} from './types';\r\n\r\n// import axios from '../../helpers/axiosConfig'\r\n\r\nexport const fetcAction = (url, params) => {\r\n  let urlParamsFilter = ''\r\n\r\n  Object.keys(params).map(function (key, index) {\r\n    if (params[key]) {\r\n      urlParamsFilter += `&${[key]}=${params[key]}`\r\n    }\r\n  })\r\n  console.log(`${url}?${urlParamsFilter}`);\r\n  console.log(`${params.category}`);\r\n  return (dispatch) => {\r\n    dispatch(fetchActionRequest())\r\n    axios\r\n      .get(`/api${url}?${urlParamsFilter}`)\r\n      .then(response => {\r\n        const { status, message, data } = response.data\r\n        if (status) {\r\n          dispatch(fetchActionSuccess(response.data))\r\n        } else {\r\n          dispatch(fetchActionFailure(message))\r\n        }\r\n      })\r\n      .catch(error => {\r\n        dispatch(fetchActionFailure(error.message))\r\n      })\r\n  }\r\n}\r\n\r\nexport const fetchActionRequest = () => {\r\n  return {\r\n    type: FETCH_REQUEST\r\n  }\r\n}\r\nexport const fetchActionSuccess = data => {\r\n  return {\r\n    type: FETCH_SUCCESS,\r\n    payload: data\r\n  }\r\n}\r\n\r\nexport const fetchActionFailure = error => {\r\n  return {\r\n    type: FETCH_FAILURE,\r\n    payload: error\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}
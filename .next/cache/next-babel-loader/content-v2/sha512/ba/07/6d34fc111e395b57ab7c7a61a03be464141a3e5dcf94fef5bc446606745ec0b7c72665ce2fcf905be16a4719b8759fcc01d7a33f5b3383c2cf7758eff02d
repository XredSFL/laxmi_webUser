{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"D:/luarKampus/Magang/Bestada/laxmi.front.web.user/node_modules/.pnpm/@babel+runtime@7.12.5/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"D:\\\\luarKampus\\\\Magang\\\\Bestada\\\\laxmi.front.web.user\\\\components\\\\partials\\\\login\\\\formLogin.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport useTranslation from 'next-translate/useTranslation';\nimport React, { useState, useEffect } from 'react'; // redux\n\nimport { connect } from 'react-redux';\nimport { logout as _logout, loginAction as _loginAction, enterPage as _enterPage } from '../../../stores'; // elements\n\nimport { Input } from '../../../components/elements/form';\n\nvar formLogin = function formLogin(_ref) {\n  _s();\n\n  var authData = _ref.authData,\n      loginAction = _ref.loginAction,\n      enterPage = _ref.enterPage;\n  var router = useRouter();\n\n  var _useState = useState({}),\n      form = _useState[0],\n      setForm = _useState[1];\n\n  var _useState2 = useState({}),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var _useTranslation = useTranslation(\"login\"),\n      t = _useTranslation.t;\n\n  useEffect(function () {\n    enterPage();\n    setError({\n      email: \"\",\n      password: \"\"\n    });\n  }, []);\n  useEffect(function () {\n    console.log(authData);\n    console.log(authData.error);\n    setError({\n      email: authData.error\n    });\n  }, [authData.error]);\n\n  var validateForm = function validateForm() {\n    var valid = true;\n\n    var newErrors = _objectSpread({}, error);\n\n    if (!form.email) {\n      newErrors.email = \"Email \".concat(t(\"common:cannot be empty\"));\n      valid = false;\n    } else if (!form.email.includes(\"@\")) {\n      newErrors.email = \"Email \".concat(t(\"common:is not valid\"));\n      valid = false;\n    } else {\n      newErrors.email = null;\n    }\n\n    if (!form.password) {\n      newErrors.password = \"Password \".concat(t(\"common:cannot be empty\"));\n      valid = false;\n    } else {\n      newErrors.password = null;\n    }\n\n    setError(newErrors);\n    return valid;\n  }; // handle\n\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n\n    if (validateForm()) {\n      debugger;\n      loginAction(form, router);\n    }\n  };\n\n  var handleChange = function handleChange(e) {\n    var _e$target = e.target,\n        value = _e$target.value,\n        id = _e$target.id; // debugger\n\n    setForm(_objectSpread(_objectSpread({}, form), {}, _defineProperty({}, id, value)));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Input, {\n      id: \"email\",\n      type: \"text\",\n      error: error.email,\n      label: t(\"Email\"),\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(Input, {\n      id: \"password\",\n      type: \"password\",\n      error: error.password,\n      label: t(\"Password\"),\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-check d-flex flex-row row justify-content-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-sm-6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 col-sm-6 d-flex justify-content-end\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/login/forgotpassword\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            children: [t(\"Forgot Password\"), \" ?\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n      disabled: authData.isLoading,\n      type: \"submit\",\n      className: \"btn btn-primary w-100 py-3\",\n      children: authData.isLoading ? 'Loading' : t(\"common:Login\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(formLogin, \"eYDgUQwVOQKlXYejQwFxi7A/VZc=\", false, function () {\n  return [useRouter, useTranslation];\n});\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    authData: state.auth\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    logout: function logout() {\n      return dispatch(_logout());\n    },\n    loginAction: function loginAction(form, router) {\n      return dispatch(_loginAction(form, router));\n    },\n    enterPage: function enterPage() {\n      return dispatch(_enterPage());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(formLogin);","map":{"version":3,"sources":["D:/luarKampus/Magang/Bestada/laxmi.front.web.user/components/partials/login/formLogin.jsx"],"names":["Link","useRouter","useTranslation","React","useState","useEffect","connect","logout","loginAction","enterPage","Input","formLogin","authData","router","form","setForm","error","setError","t","email","password","console","log","validateForm","valid","newErrors","includes","handleSubmit","e","preventDefault","handleChange","target","value","id","isLoading","mapStateToProps","state","auth","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import Link from 'next/link'\r\nimport { useRouter } from 'next/router'\r\nimport useTranslation from 'next-translate/useTranslation';\r\nimport React, { useState, useEffect } from 'react';\r\n\r\n// redux\r\nimport { connect } from 'react-redux'\r\nimport { logout, loginAction, enterPage } from '../../../stores';\r\n\r\n// elements\r\nimport { Input } from '../../../components/elements/form';\r\n\r\nconst formLogin = ({ authData, loginAction, enterPage }) => {\r\n    const router = useRouter()\r\n\r\n    const [form, setForm] = useState({})\r\n    const [error, setError] = useState({})\r\n\r\n    const { t } = useTranslation(\"login\")\r\n\r\n    useEffect(() => {\r\n        enterPage()\r\n        setError({\r\n            email: \"\",\r\n            password: \"\"\r\n        })\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        console.log(authData);\r\n        console.log(authData.error);\r\n        setError({\r\n            email: authData.error,\r\n        })\r\n    }, [authData.error]);\r\n\r\n    const validateForm = () => {\r\n        let valid = true;\r\n        var newErrors = { ...error }\r\n\r\n        if (!form.email) {\r\n            newErrors.email = `Email ${t(\"common:cannot be empty\")}`;\r\n            valid = false;\r\n        } else if (!form.email.includes(\"@\")) {\r\n            newErrors.email = `Email ${t(\"common:is not valid\")}`;\r\n            valid = false;\r\n        } else {\r\n            newErrors.email = null\r\n        }\r\n        if (!form.password) {\r\n            newErrors.password = `Password ${t(\"common:cannot be empty\")}`;\r\n            valid = false;\r\n        } else {\r\n            newErrors.password = null\r\n        }\r\n        setError(newErrors);\r\n        return valid;\r\n    }\r\n\r\n    // handle\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        if (validateForm()) {\r\n            debugger\r\n            loginAction(form, router)\r\n        }\r\n    }\r\n    const handleChange = e => {\r\n        const { value, id } = e.target\r\n\r\n        // debugger\r\n        setForm({\r\n            ...form,\r\n            [id]: value\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {/* {\r\n                authData.error ? \r\n                <div className=\"alert alert-danger\" role=\"alert\">\r\n                    {authData.error}\r\n                </div> : null     \r\n            }             */}\r\n            <Input\r\n                id=\"email\"\r\n                type=\"text\"\r\n                error={error.email}\r\n                label={t(\"Email\")}\r\n                onChange={handleChange}\r\n            />\r\n            <Input\r\n                id=\"password\"\r\n                type=\"password\"\r\n                error={error.password}\r\n                label={t(\"Password\")}\r\n                onChange={handleChange}\r\n            />\r\n            <div className=\"form-check d-flex flex-row row justify-content-between\">\r\n                <div className=\"col-12 col-sm-6\">\r\n                    {/* <input \r\n                        type=\"checkbox\" \r\n                        className=\"form-check-input\" \r\n                        id=\"remember\" />\r\n                    <label \r\n                        className=\"form-check-label\" \r\n                        htmlFor=\"remember\">{t(\"Remember Me\")}</label> */}\r\n                </div>\r\n                <div className=\"col-12 col-sm-6 d-flex justify-content-end\">\r\n                    <Link href='/login/forgotpassword'>\r\n                        <a>{t(\"Forgot Password\")} ?</a>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n            <button\r\n                disabled={authData.isLoading}\r\n                type=\"submit\"\r\n                className=\"btn btn-primary w-100 py-3\">{authData.isLoading ? 'Loading' : t(\"common:Login\")}</button>\r\n        </form>\r\n    )\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        authData: state.auth\r\n    }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        logout: () => dispatch(logout()),\r\n        loginAction: (form, router) => dispatch(loginAction(form, router)),\r\n        enterPage: () => dispatch(enterPage())\r\n    }\r\n}\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(formLogin)\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _defineProperty from \"D:/luarKampus/Magang/Bestada/laxmi.front.web.user/node_modules/.pnpm/@babel+runtime@7.12.5/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\luarKampus\\\\Magang\\\\Bestada\\\\laxmi.front.web.user\\\\components\\\\layouts\\\\withAuth.jsx\",\n    _this = this;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useRouter } from \"next/router\";\nimport Cookies from 'js-cookie'; // redux\n\nvar withAuth = function withAuth(WrappedComponent, type) {\n  var _s = $RefreshSig$();\n\n  return _s(function (props) {\n    _s();\n\n    var Router = useRouter();\n    var isLogin = Cookies.get('laxmi-auth');\n    var PersistString = localStorage.getItem(\"persist:laxmi\");\n    var parseObject1 = JSON.parse(PersistString, function (key, value) {\n      if (key == \"birth\") {\n        return new Date(value);\n      } else {\n        return value;\n      }\n    });\n    var auth = JSON.parse((parseObject1 === null || parseObject1 === void 0 ? void 0 : parseObject1.auth) || null, function (key, value) {\n      if (key == \"birth\") {\n        return new Date(value);\n      } else {\n        return value;\n      }\n    });\n\n    if (type === 'auth') {\n      if (auth !== null && auth !== void 0 && auth.isLogin || false) {\n        Router.replace(\"/\");\n        return null;\n      }\n\n      return /*#__PURE__*/_jsxDEV(WrappedComponent, _objectSpread({}, props), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 16\n      }, _this);\n    } else {\n      if (!auth.isLogin) {\n        Router.replace(\"/login\");\n        return null;\n      }\n\n      return /*#__PURE__*/_jsxDEV(WrappedComponent, _objectSpread({}, props), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 16\n      }, _this);\n    }\n  }, \"Nx7j8f58gAtJSFeAicBrugCk4WM=\", false, function () {\n    return [useRouter];\n  });\n};\n\nexport default withAuth;","map":{"version":3,"sources":["D:/luarKampus/Magang/Bestada/laxmi.front.web.user/components/layouts/withAuth.jsx"],"names":["useRouter","Cookies","withAuth","WrappedComponent","type","props","Router","isLogin","get","PersistString","localStorage","getItem","parseObject1","JSON","parse","key","value","Date","auth","replace"],"mappings":";;;;;;;;;;AAAA,SAASA,SAAT,QAA0B,aAA1B;AACA,OAAOC,OAAP,MAAoB,WAApB,C,CAEA;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,gBAAD,EAAkBC,IAAlB,EAA2B;AAAA;;AAC1C,YAAO,UAACC,KAAD,EAAW;AAAA;;AAChB,QAAMC,MAAM,GAAGN,SAAS,EAAxB;AACA,QAAMO,OAAO,GAAGN,OAAO,CAACO,GAAR,CAAY,YAAZ,CAAhB;AAEA,QAAMC,aAAa,GAAGC,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAtB;AACA,QAAMC,YAAY,GAAGC,IAAI,CAACC,KAAL,CAAWL,aAAX,EAA0B,UAAUM,GAAV,EAAeC,KAAf,EAAsB;AACjE,UAAID,GAAG,IAAI,OAAX,EAAoB;AAChB,eAAO,IAAIE,IAAJ,CAASD,KAAT,CAAP;AACH,OAFD,MAEO;AACH,eAAOA,KAAP;AACH;AACJ,KANoB,CAArB;AAOA,QAAME,IAAI,GAAGL,IAAI,CAACC,KAAL,CAAW,CAAAF,YAAY,SAAZ,IAAAA,YAAY,WAAZ,YAAAA,YAAY,CAAEM,IAAd,KAAsB,IAAjC,EAAuC,UAAUH,GAAV,EAAeC,KAAf,EAAsB;AACtE,UAAID,GAAG,IAAI,OAAX,EAAoB;AAChB,eAAO,IAAIE,IAAJ,CAASD,KAAT,CAAP;AACH,OAFD,MAEO;AACH,eAAOA,KAAP;AACH;AACJ,KANY,CAAb;;AAOA,QAAGZ,IAAI,KAAK,MAAZ,EAAmB;AACf,UAAIc,IAAI,SAAJ,IAAAA,IAAI,WAAJ,IAAAA,IAAI,CAAEX,OAAN,IAAiB,KAArB,EAA4B;AACxBD,QAAAA,MAAM,CAACa,OAAP,CAAe,GAAf;AACA,eAAO,IAAP;AACH;;AAED,0BAAO,QAAC,gBAAD,oBAAsBd,KAAtB;AAAA;AAAA;AAAA;AAAA,eAAP;AACH,KAPD,MAOK;AACD,UAAI,CAACa,IAAI,CAACX,OAAV,EAAmB;AACfD,QAAAA,MAAM,CAACa,OAAP,CAAe,QAAf;AACA,eAAO,IAAP;AACH;;AAED,0BAAO,QAAC,gBAAD,oBAAsBd,KAAtB;AAAA;AAAA;AAAA;AAAA,eAAP;AACH;AAEF,GAnCD;AAAA,YACiBL,SADjB;AAAA;AAoCD,CArCD;;AAwCA,eAAeE,QAAf","sourcesContent":["import { useRouter } from \"next/router\";\r\nimport Cookies from 'js-cookie';\r\n\r\n// redux\r\n\r\nconst withAuth = (WrappedComponent,type) => {\r\n  return (props) => {\r\n    const Router = useRouter();\r\n    const isLogin = Cookies.get('laxmi-auth') ;\r\n    \r\n    const PersistString = localStorage.getItem(\"persist:laxmi\") \r\n    const parseObject1 = JSON.parse(PersistString, function (key, value) {\r\n        if (key == \"birth\") {\r\n            return new Date(value);\r\n        } else {\r\n            return value;\r\n        }\r\n    });\r\n    const auth = JSON.parse(parseObject1?.auth || null, function (key, value) {\r\n        if (key == \"birth\") {\r\n            return new Date(value);\r\n        } else {\r\n            return value;\r\n        }\r\n    });\r\n    if(type === 'auth'){\r\n        if (auth?.isLogin || false) {\r\n            Router.replace(\"/\");\r\n            return null;\r\n        }\r\n    \r\n        return <WrappedComponent {...props} />;    \r\n    }else{\r\n        if (!auth.isLogin) {\r\n            Router.replace(\"/login\");\r\n            return null;\r\n        }\r\n    \r\n        return <WrappedComponent {...props} />;    \r\n    }\r\n\r\n  };\r\n};\r\n\r\n\r\nexport default withAuth\r\n"]},"metadata":{},"sourceType":"module"}